<!DOCTYPE html>
<html lang="en">

<head>
    <script src="_content/Blazor.Extensions.Canvas/blazor.extensions.canvas.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>BlazorUI</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="BlazorUI.styles.css" rel="stylesheet" />

    <script>
        class Utils {
            static async setImage (imageElementId, imageStream) {
                const arrayBuffer = await imageStream.arrayBuffer();
                const blob = new Blob([arrayBuffer]);
                const url = URL.createObjectURL(blob);
                document.getElementById(imageElementId).src = url;
                URL.revokeObjectURL(url);
            }

            static getPixelRatio() {
                return window.devicePixelRatio;
            }

            static writeLine(obj) {
                console.log(obj);
            }

            static disableSmoothing() {
                console.log(`clear smothing`);
                let gamePanel = document.getElementsByClassName('gamePanel')[0].getElementsByTagName('canvas')[0];
                gamePanel.style = `scale: ${1 / window.devicePixelRatio}`;
                let id = gamePanel.id;
                BlazorExtensions.Canvas2d.contexts.get(id).imageSmoothingEnabled = false;
            }
        }
        window.Utils = Utils;


        
    </script>

</head >

    <body>
        <div id="app">Loading...</div>

        <div id="blazor-error-ui">
            An unhandled error has occurred.
            <a href="" class="reload">Reload</a>
            <a class="dismiss">ðŸ—™</a>
        </div>
        <script src="_framework/blazor.webassembly.js"></script>
    </body>

</html>
